(this["webpackJsonpmap-scratch"]=this["webpackJsonpmap-scratch"]||[]).push([[0],{312:function(t,e,n){},313:function(t,e,n){},319:function(t,e,n){},320:function(t,e,n){},321:function(t,e,n){},454:function(t,e,n){},460:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(38),o=n.n(a),i=(n(312),n(5)),l=(n(313),n(473)),s=n(474),j=n(498),u=n(86),d=n.n(u),h=n(14),b=(n(315),n(504)),x=n(472),f=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/3d9519a9c80c0149c2accf244a88c4d8/raw/mines.csv").then(r)}),[]),n},p=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/e3d8ba2ec55191b1049d457711a3162f/raw/coalPlants.csv").then(r)}),[]),n},O=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/8c89b0942f1abe15e13953b86077e229/raw/steelPlants.csv").then(r)}),[]),n},g=n(274),m=n(1),y=function(t){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),r=n[0],a=n[1],o=function(){a(!r),t.onClick()};return!0===r?Object(m.jsx)(g.a,{height:"6",fontSize:"sm",bg:"black",color:"white",_hover:{bg:"gray"},onClick:o,children:t.children}):Object(m.jsx)(g.a,{height:"6",fontSize:"sm",onClick:o,children:t.children})},w=(n(319),function(t){var e=Object(c.useState)([0,0]),n=Object(i.a)(e,2),r=n[0],a=n[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),g=u[0],w=u[1],v=Object(c.useState)(!1),P=Object(i.a)(v,2),S=P[0],C=P[1],A=Object(c.useState)(!1),L=Object(i.a)(A,2),M=L[0],k=L[1],z=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/bd1bf080322618e46ad6a5552d646105/raw/ports.csv").then(r)}),[]),n}(),T=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/43b07a35f49cb3b74c1a93ed2c809961/raw/flows.csv").then(r)}),[]),n}(),F=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/56d12817f6462bf7cd782d423b86ac11/raw/country_nodes.csv").then(r)}),[]),n}(),N=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/4e4596e8863543d99182de35c7855660/raw/country_flows.csv").then(r)}),[]),n}(),D=f(),E=p(),B=O();if(!z||!T||!F||!N||!D||!E)return Object(m.jsx)("pre",{children:Object(m.jsx)(x.a,{color:"#38B2AC"})});var I=z,W=T,Y=F,H=N;"Ports"!==t.levelSelected&&(I=Y,W=H);var R=function(){var e=Object(l.a)();return h.c(e.getPanes().overlayPane).selectAll("*").remove(),d.a.svg({clickable:!0}).addTo(e),Object(c.useEffect)((function(){var n=W.filter((function(e){return+e.Year===t.yearSelected&&e.Commodity===t.commoditySelected})),c=I.filter((function(e){return+e.Year===t.yearSelected&&e.Commodity===t.commoditySelected}));t.setPortData(I),t.setFlowData(W);var o=h.c(e.getPanes().overlayPane),i=o.select("svg").attr("pointer-events","auto"),l=i.append("g"),s=i.append("g"),j=o.append("div").attr("id","portTooltip").style("left",r[0]+30+"px").style("top",r[1]+30+"px");var u=s.selectAll("circle").attr("class","Dots").data(c).join("circle").attr("id","Ports").attr("fill",(function(t){return+t.flow<0?"#38B2AC":"tomato"})).attr("stroke","black").attr("fill-opacity",.4).attr("cx",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).y})).attr("r",(function(e){var n=+e.flow>0?e.flow:-e.flow;return"Ports"===t.levelSelected?Math.sqrt(20*+n):Math.sqrt(10*+n)})).on("mouseover",(function(c,r){h.c(this).attr("fill-opacity",1).style("cursor","pointer");var a=+r.flow,o=a>0?a.toFixed(2):-a.toFixed(2),i=+r.flow>0?"Export":"Import";j.html('<p style="font-size: 1.5em"><b>'.concat(r.Port,"</b></p>\n            <p>").concat(i,": ").concat(o," megatonnes</p>\n            <p><b>Click</b> to see more details.</p>")).style("opacity",1);var s=r.Port;if(r.flow>0)var u=n.filter((function(t){return t.source===s}));else u=n.filter((function(t){return t.target===s}));var d=l.selectAll("path").data(u);d.enter().append("path").attr("class","links").attr("id",(function(t){return t.flow>0?t.target:t.source})).attr("d",(function(t){var n=I.filter((function(e){return e.Port===t.source})),c=I.filter((function(e){return e.Port===t.target}));return function(t,n){var c=e.latLngToLayerPoint(t),r=e.latLngToLayerPoint(n),a=c.x-r.x,o=c.y-r.y,i=.4,l=.1;if(o<0)var s=[i*a,l*o,i*a,l*o];else s=[l*a,i*o,l*a,i*o];return"M"+c.x+","+c.y+"C"+(c.x-s[0])+","+(c.y-s[1])+" "+(r.x+s[2])+","+(r.y+s[3])+" "+r.x+","+r.y}([n[0].lat,n[0].lon],[c[0].lat,c[0].lon])})).style("fill","none").style("stroke",(function(t){return"Export"===i?"tomato":"#38B2AC"})).style("stroke-width",(function(e){var n=+e.flow>0?e.flow:-e.flow;return"Ports"===t.levelSelected?n+"px":n/2+"px"})).style("opacity",.6),d.exit().remove()})).on("mouseleave",(function(t,e){h.c(this).transition().duration("150").attr("fill-opacity",.4).style("cursor","default"),j.style("opacity",0).style("left","0px").style("top","0px"),l.selectAll("path").remove()})).on("click",(function(e,n){a([Object(h.b)(e)[0],Object(h.b)(e)[1]]),t.isPortClicked("TRUE"),t.onSelectPort(n)})).on("mousemove",(function(t,e){j.style("left",Object(h.b)(t)[0]+30+"px").style("top",Object(h.b)(t)[1]+30+"px")}));e.on("zoomend",(function(){return u.attr("cx",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).y}))}))}),[e]),null},X=function(){var e=Object(l.a)(),n=h.c(e.getPanes().overlayPane),c=n.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===g)return null;var r=n.select("svg").attr("pointer-events","auto").append("g"),a=r.selectAll("circle").attr("class","Dots").data(D).join("circle").attr("id","Mines").attr("fill","brown").attr("fill-opacity",1).attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),r.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")})).on("click",(function(e,n){return t.setNewMine(n)}));return e.on("zoomend",(function(){return a.attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y}))})),null},K=function(){var e=Object(l.a)(),n=h.c(e.getPanes().overlayPane),c=n.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===S)return null;var r=n.select("svg").attr("pointer-events","auto").append("g"),a=r.selectAll("circle").attr("class","Dots").data(E).join("circle").attr("id","Plants").attr("fill","#212b57").attr("fill-opacity",1).attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),r.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")})).on("click",(function(e,n){return t.setNewPlant(n)}));return e.on("zoomend",(function(){return a.attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y}))})),null},U=function(){var e=Object(l.a)(),n=h.c(e.getPanes().overlayPane),c=n.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===M)return null;var r=n.select("svg").attr("pointer-events","auto").append("g"),a=r.selectAll("circle").attr("class","Dots").data(B).join("circle").attr("id","SteelPlants").attr("fill","#009ACD").attr("fill-opacity",1).attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),r.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")})).on("click",(function(e,n){return t.setNewPlant(n)}));return e.on("zoomend",(function(){return a.attr("cx",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.Latitude,t.Longitude]).y}))})),null};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.a,{id:"mainMap",style:{height:"100%"},center:[5,18],zoom:2,scrollWheelZoom:!0,zIndex:"100",children:[Object(m.jsx)(j.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),Object(m.jsx)(R,{}),Object(m.jsx)(X,{}),Object(m.jsx)(K,{}),Object(m.jsx)(U,{})]}),Object(m.jsxs)(b.b,{direction:"row",position:"absolute",top:"10px",right:"20px",zIndex:"500",children:[Object(m.jsx)(y,{onClick:function(){w(!g)},children:"show mines"}),Object(m.jsx)(y,{onClick:function(){C(!S)},children:"show power plants"}),Object(m.jsx)(y,{onClick:function(){k(!M)},children:"show steel plants"})]})]})}),v=(n(320),n(321),n(475)),P=n(482),S=n(496),C=n(484),A=n(505),L=n(477),M=n(478),k=n(255),z=n(256),T=n(278),F=n(146),N=n(145),D=n(476),E=n(43),B=function(t){return Object(m.jsx)(E.a,{fontSize:"0.6em",x:t.x-5,y:t.y+t.height/2,width:95,textAnchor:"end",verticalAnchor:"middle",dominantBaseline:"middle",children:t.value})},I=function(t){var e=function(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/c4c4fa01b7a10184d22a15eeeba4920b/raw/port_country_mapping.csv").then(r)}),[]),n}();if(!e)return null;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(E.a,{fontSize:"0.6em",x:t.x-5,y:t.y+t.height/2,width:95,textAnchor:"end",verticalAnchor:"middle",dominantBaseline:"middle",children:[t.value," ".concat(e.filter((function(e){return e.Port===t.value}))[0].Country)]})})},W=function(t){var e=t.flowData,n=t.portData,r=Object(c.useState)(null),a=Object(i.a)(r,2),o=a[0],l=a[1];if(!e||!n)return null;var s=e.filter((function(e){return+e.Year===t.year&&e.Commodity===t.commodity&&e.source===t.sourcePort}));s.sort((function(t,e){return parseFloat(e.flow)-parseFloat(t.flow)})),s.forEach((function(t){t.flow=function(t){var e=parseFloat(t.flow).toFixed(2);return parseFloat(e)}(t)}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",children:[Object(m.jsx)(D.a,{size:"sm",children:"".concat(t.commodity," coal exports (in Mts)")}),Object(m.jsx)(L.a,{width:"100%",height:"90%",children:Object(m.jsxs)(M.a,{data:s.slice(0,10),layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(m.jsx)(k.a,{type:"number",hide:!0}),Object(m.jsx)(z.a,{type:"category",hide:!0}),Object(m.jsxs)(T.a,{dataKey:"flow",onClick:function(e,c){var r=n.filter((function(n){return+n.Year===t.year&&n.Commodity===t.commodity&&n.Port===e.target}));t.setNewPort(r[0]),l(c)},children:[s.slice(0,10).map((function(t,e){return Object(m.jsx)(F.a,{cursor:"pointer",fill:e===o?"gray":"#38B2AC"},"cell-".concat(e))})),Object(m.jsx)(N.a,{dataKey:"flow",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(m.jsx)(N.a,{dataKey:"target",position:"left",content:"Ports"===t.level?Object(m.jsx)(I,{}):Object(m.jsx)(B,{}),style:{fontSize:"0.6em"}})]})]})})]})})},Y=function(t){var e=t.flowData,n=t.portData,r=Object(c.useState)(null),a=Object(i.a)(r,2),o=a[0],l=a[1];if(!e||!n)return null;var s=e.filter((function(e){return+e.Year===t.year&&e.Commodity===t.commodity&&e.target===t.targetPort}));s.sort((function(t,e){return parseFloat(e.flow)-parseFloat(t.flow)})),s.forEach((function(t){t.flow=function(t){var e=parseFloat(t.flow).toFixed(2);return parseFloat(e)}(t)}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",children:[Object(m.jsx)(D.a,{size:"sm",children:"".concat(t.commodity," coal imports (in Mts)")}),Object(m.jsx)(L.a,{width:"100%",height:"90%",children:Object(m.jsxs)(M.a,{data:s.slice(0,10),layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(m.jsx)(k.a,{type:"number",hide:!0}),Object(m.jsx)(z.a,{type:"category",hide:!0}),Object(m.jsxs)(T.a,{dataKey:"flow",onClick:function(e,c){var r=n.filter((function(n){return+n.Year===t.year&&n.Commodity===t.commodity&&n.Port===e.source}));t.setNewPort(r[0]),l(c)},children:[s.slice(0,10).map((function(t,e){return Object(m.jsx)(F.a,{cursor:"pointer",fill:e===o?"gray":"tomato"},"cell-".concat(e))})),Object(m.jsx)(N.a,{dataKey:"flow",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(m.jsx)(N.a,{dataKey:"source",position:"left",content:"Ports"===t.level?Object(m.jsx)(I,{}):Object(m.jsx)(B,{}),style:{fontSize:"0.6em"}})]})]})})]})})},H=n(106),R=n(502),X=n(257),K=n(483),U=n(193),Z=(n(454),["gray","brown","black"]),G=function(t){var e=t.portData;if(!e||!t.selectedPort||!t.year)return null;var n=e.filter((function(e){return+e.Year===t.year&&e.Port===t.selectedPort})).map((function(t){return Object(H.a)({},t)}));n.forEach((function(t){t.flow=Math.abs(+t.flow)}));var c=function(t){var e=n.filter((function(e){return e.Commodity===t}));try{return e[0].flow}catch(c){return null}},r=[{Commodity:"Metallurgical",flow:c("Metallurgical")},{Commodity:"Thermal",flow:c("Thermal")},{Commodity:"Unspecified",flow:c("Total")-(c("Metallurgical")+c("Thermal"))}];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",children:[Object(m.jsx)(D.a,{size:"sm",children:"".concat(t.selectedPort," commodity breakdown")}),Object(m.jsx)(L.a,{height:130,width:"100%",children:Object(m.jsx)(R.a,{height:130,children:Object(m.jsx)(X.a,{data:r,innerRadius:20,outerRadius:50,dataKey:"flow",nameKey:"Commodity",children:r.map((function(t,e){return Object(m.jsx)(F.a,{fill:Z[e%Z.length]},"cell-".concat(e))}))})})}),Object(m.jsx)(P.a,{children:Object(m.jsxs)(K.a,{children:[Object(m.jsxs)(K.b,{fontSize:"sm",children:[Object(m.jsx)(U.a,{viewBox:"0 0 200 200",color:"gray",children:Object(m.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Metallurgical coal"]}),Object(m.jsxs)(K.b,{fontSize:"sm",children:[Object(m.jsx)(U.a,{viewBox:"0 0 200 200",color:"brown",children:Object(m.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Thermal coal"]}),Object(m.jsxs)(K.b,{fontSize:"sm",children:[Object(m.jsx)(U.a,{viewBox:"0 0 200 200",color:"black",children:Object(m.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Unspecified coal"]})]})})]})})},V="data:image/png;base64,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",Q=function(t){var e=t.clickedPort,n=e.Port;if(+e.flow>0)var c="Export";else c="Import";return"Export"===c?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.c,{height:"100%",width:"100%",spacing:"20px",children:[Object(m.jsx)(v.a,{height:"60%",minHeight:"240px",width:"100%",children:Object(m.jsx)(W,{sourcePort:n,flowData:t.flowData,portData:t.portData,year:t.yearSelected,level:t.levelSelected,commodity:t.commoditySelected,setNewPort:t.setNewPort})}),Object(m.jsx)(C.a,{}),Object(m.jsx)(v.a,{className:"commodity-breakdown",height:"250px",width:"100%",children:Object(m.jsx)(G,{selectedPort:n,portData:t.portData,year:t.yearSelected})}),Object(m.jsx)(C.a,{}),Object(m.jsx)(A.a,{src:V,width:"80%",height:"auto"})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(m.jsx)(v.a,{height:"60%",minHeight:"240px",width:"100%",children:Object(m.jsx)(Y,{targetPort:n,flowData:t.flowData,portData:t.portData,year:t.yearSelected,level:t.levelSelected,commodity:t.commoditySelected,setNewPort:t.setNewPort})}),Object(m.jsx)(C.a,{}),Object(m.jsx)(v.a,{className:"commodity-breakdown",height:"250px",width:"100%",children:Object(m.jsx)(G,{selectedPort:n,portData:t.portData,year:t.yearSelected})}),Object(m.jsx)(C.a,{}),Object(m.jsx)(A.a,{src:V,width:"80%",height:"auto"})]})})},q=n(485),J=n(499),_=function(t){var e=Object(c.useState)(2020),n=Object(i.a)(e,2),r=n[0],a=n[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.c,{width:"100%",spacing:2,children:[Object(m.jsx)(q.a,{fontSize:"2xl",fontWeight:"semibold",color:"#000",children:r}),Object(m.jsxs)(J.a,{width:"80%","aria-label":"yearSlider",defaultValue:2020,min:2017,max:2020,step:1,onChangeEnd:function(e){return function(e){a(e),t.onSelectYear(r)}(e)},children:[Object(m.jsx)(J.d,{bg:"#1D77b7",children:Object(m.jsx)(J.b,{bg:"#212b57"})}),Object(m.jsx)(J.c,{boxSize:4,bgColor:"gray.200"})]})]})})},$=n(275),tt=n(501),et=function(t){var e=Object(c.useState)("Thermal"),n=Object(i.a)(e,2),r=n[0],a=n[1];return Object(m.jsx)($.a,{onChange:function(e){a(e),t.onSelectCommodity(e)},value:r,children:Object(m.jsxs)(b.b,{direction:"row",color:"gray.600",children:[Object(m.jsx)(tt.a,{value:"Total",children:"Total"}),Object(m.jsx)(tt.a,{value:"Thermal",children:"Thermal"}),Object(m.jsx)(tt.a,{value:"Metallurgical",children:"Metallurgical"})]})})},nt=n(488),ct=n(497),rt=n(489),at=function(t){var e=+t.mtAmount,n=Math.abs(e.toFixed(2));if(e>0)var c="Exports in megatonnes:";else c="Imports in megatonnes:";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{children:Object(m.jsxs)(nt.a,{children:[Object(m.jsx)(nt.c,{color:"gray.600",children:c}),Object(m.jsx)(nt.d,{children:"".concat(n," Mt")})]})}),Object(m.jsx)(ct.a,{label:"True exports for any given port are likely to be higher. These exports only represent exports from installations that are included in the dataset. We are continuously adding more ports to reduce the amount of exports to unknown ports and provide a more accurate picture.",placement:"right",bgColor:"#212b57",children:Object(m.jsx)(rt.a,{position:"absolute",top:"10px",right:"10px"})})]})},ot=function(t){var e=Math.abs((2.44*+t.mtAmount).toFixed(2));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{children:Object(m.jsxs)(nt.a,{children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"CO2 emissions from use:"}),Object(m.jsxs)(nt.d,{children:[e," Mt CO",Object(m.jsx)("sub",{children:"2"})]})]})}),Object(m.jsx)(ct.a,{label:"CO2 emissions are calculated by multiplying the megatonnes of coal exported by a factor of 2.44",placement:"right",bgColor:"#212b57",children:Object(m.jsx)(rt.a,{position:"absolute",top:"10px",right:"10px"})})]})},it=function(t){var e=Object(c.useState)("Ports"),n=Object(i.a)(e,2),r=n[0],a=n[1];return Object(m.jsx)($.a,{onChange:function(e){a(e),t.onSelectLevel(e),t.isPortClicked("FALSE")},value:r,children:Object(m.jsxs)(b.b,{direction:"row",color:"gray.600",children:[Object(m.jsx)(tt.a,{value:"Countries",children:"Country"}),Object(m.jsx)(tt.a,{value:"Ports",children:"Ports"})]})})},lt=n(490),st=n(491),jt=function(t){var e=t.clickedPort,n=e.Port;if(+e.flow>0)var c="Export",r="tomato";else c="Import",r="#38B2AC";return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(lt.a,{display:"flex",alignItems:"center",children:Object(m.jsxs)(b.c,{children:[Object(m.jsx)(q.a,{fontSize:"xl",fontWeight:"semibold",color:"gray.600",textAlign:"center",children:"Ports"===t.level?"".concat(n,", ").concat(e.Country):"".concat(n)}),Object(m.jsx)(st.a,{borderRadius:"full",px:"2",bgColor:r,color:"white",children:c})]})})})},ut=function(t){return t*(Math.PI/180)},dt=function(t){var e=f();if(!e)return Object(m.jsx)("pre",{children:"Loading..."});var n=t.sourcePort;if(e.forEach((function(t){t.Distance=function(t,e,n,c){var r=ut(n-t),a=ut(c-e),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(ut(t))*Math.cos(ut(n))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(n.lat,n.lon,t.Latitude,t.Longitude),t.Output=parseFloat(t.Output)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)})),"Thermal"===t.commodity)var c=e.filter((function(t){return"TRUE"===t.Thermal}));else c="Metallurgical"===t.commodity?e.filter((function(t){return"TRUE"===t.Metallurgical})):e;var r=c.slice(0,10);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",children:[Object(m.jsx)(D.a,{size:"sm",children:"Closest ".concat(("Total"===t.commodity?"":t.commodity).toLowerCase()," coal mines")}),Object(m.jsx)(L.a,{width:"100%",height:"90%",children:Object(m.jsxs)(M.a,{data:r,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(m.jsx)(k.a,{type:"number",hide:!0}),Object(m.jsx)(z.a,{type:"category",hide:!0}),Object(m.jsxs)(T.a,{dataKey:"Output",onClick:function(e,n){t.selectMine(e)},isAnimationActive:!1,children:[r.map((function(t,e){return Object(m.jsx)(F.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(m.jsx)(N.a,{dataKey:"Output",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(m.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(m.jsx)(B,{}),style:{fontSize:"0.6em"}})]})]})})]})})},ht=n(492),bt=n(493),xt=function(t){return t*(Math.PI/180)},ft=function(t){var e=p();if(!e)return Object(m.jsx)("pre",{children:Object(m.jsx)(x.a,{color:"#38B2AC"})});var n=t.sourcePort;e.forEach((function(t){t.Distance=function(t,e,n,c){var r=xt(n-t),a=xt(c-e),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(xt(t))*Math.cos(xt(n))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(n.lat,n.lon,t.Latitude,t.Longitude),t.Capacity=parseFloat(t.Capacity)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)}));var c=e.slice(0,10);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",children:[Object(m.jsxs)(b.a,{children:[Object(m.jsx)(D.a,{size:"sm",children:" Closest coal power plants "}),Object(m.jsx)(ht.a,{size:"xs","aria-label":"PlantRightButton",icon:Object(m.jsx)(bt.a,{}),onClick:function(){return t.selectPlantType("steel")}})]}),Object(m.jsx)(L.a,{width:"100%",height:"90%",children:Object(m.jsxs)(M.a,{data:c,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(m.jsx)(k.a,{type:"number",hide:!0}),Object(m.jsx)(z.a,{type:"category",hide:!0}),Object(m.jsxs)(T.a,{dataKey:"Capacity",onClick:function(e,n){t.selectPlant(e)},children:[c.map((function(t,e){return Object(m.jsx)(F.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(m.jsx)(N.a,{dataKey:"Capacity",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(m.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(m.jsx)(B,{}),style:{fontSize:"0.6em"}})]})]})})]})})},pt=n(494),Ot=function(t){return t*(Math.PI/180)},gt=function(t){var e=O();if(!e)return Object(m.jsx)("pre",{children:Object(m.jsx)(x.a,{color:"#38B2AC"})});var n=t.sourcePort;e.forEach((function(t){t.Distance=function(t,e,n,c){var r=Ot(n-t),a=Ot(c-e),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(Ot(t))*Math.cos(Ot(n))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(n.lat,n.lon,t.Latitude,t.Longitude),t.Capacity=parseFloat(t.Capacity)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)}));var c=e.slice(0,10);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(v.a,{height:"100%",width:"100%",children:[Object(m.jsxs)(b.a,{children:[Object(m.jsx)(ht.a,{size:"xs","aria-label":"PlantLeftButton",icon:Object(m.jsx)(pt.a,{}),onClick:function(){return t.selectPlantType("coal")}}),Object(m.jsx)(D.a,{size:"sm",children:" Closest steel plants "})]}),Object(m.jsx)(L.a,{width:"100%",height:"90%",children:Object(m.jsxs)(M.a,{data:c,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(m.jsx)(k.a,{type:"number",hide:!0}),Object(m.jsx)(z.a,{type:"category",hide:!0}),Object(m.jsxs)(T.a,{dataKey:"Capacity",onClick:function(e,n){t.selectPlant(e)},children:[c.map((function(t,e){return Object(m.jsx)(F.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(m.jsx)(N.a,{dataKey:"Capacity",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(m.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(m.jsx)(B,{}),style:{fontSize:"0.6em"}})]})]})})]})})},mt=n(495),yt=n.p+"static/media/Coal_mine.f8b35831.png",wt=function(t){var e=t.mineInfo;return e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{children:Object(m.jsx)(A.a,{src:yt,width:"80%"})}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(st.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(m.jsx)(v.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(m.jsxs)(nt.b,{children:[Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]}),Object(m.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Grade"}),Object(m.jsx)(nt.d,{fontSize:"14",children:e.Grade})]})]}),Object(m.jsxs)(nt.b,{children:[Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Annual Capacity"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[e.Output," Mt"]})]}),Object(m.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(m.jsx)(nt.d,{fontSize:"14",children:Object(m.jsx)(mt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(m.jsx)(P.a,{height:"100%",children:Object(m.jsx)(q.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a mine above to show more information"})})},vt=n.p+"static/media/power_plant.0ce6d6e9.png",Pt=function(t){var e=t.plantInfo;return e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{children:Object(m.jsx)(A.a,{src:vt,width:"80%"})}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(st.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(m.jsx)(v.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(m.jsx)(nt.b,{children:Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]})}),Object(m.jsxs)(nt.b,{children:[Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Capacity"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[e.Capacity," MW"]})]}),Object(m.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(m.jsx)(nt.d,{fontSize:"14",children:Object(m.jsx)(mt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(m.jsx)(P.a,{height:"100%",children:Object(m.jsx)(q.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a coal plant above to show more information"})})},St=function(t){var e=t.plantInfo;return e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{children:Object(m.jsx)(A.a,{src:vt,width:"80%"})}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(st.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(m.jsx)(v.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(m.jsx)(nt.b,{children:Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]})}),Object(m.jsxs)(nt.b,{children:[Object(m.jsxs)(nt.a,{marginTop:"5px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Capacity"}),Object(m.jsxs)(nt.d,{fontSize:"14",children:[e.Capacity," kt"]})]}),Object(m.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(m.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(m.jsx)(nt.d,{fontSize:"14",children:Object(m.jsx)(mt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(m.jsx)(P.a,{height:"100%",children:Object(m.jsx)(q.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a coal plant above to show more information"})})},Ct=function(t){var e=Object(c.useState)("coal"),n=Object(i.a)(e,2),r=n[0],a=n[1];if(+t.clickedPort.flow>0)var o="Export";else o="Import";return"Export"===o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.c,{height:"100%",width:"100%",spacing:"20px",children:[Object(m.jsx)(v.a,{height:"calc(50% - 10px)",minHeight:"240px",width:"100%",children:Object(m.jsx)(dt,{sourcePort:t.clickedPort,commodity:t.commoditySelected,selectMine:function(e){return t.setNewMine(e)},level:t.levelSelected})}),Object(m.jsx)(v.a,{height:"calc(50%)",width:"100%",children:Object(m.jsx)(wt,{mineInfo:t.clickedMine})})]}),Object(m.jsx)(ct.a,{label:"Mines are sorted by their distance to the selected port",placement:"left",bgColor:"#212b57",children:Object(m.jsx)(rt.a,{position:"absolute",top:"10px",right:"10px"})})]}):"coal"===r?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(m.jsx)(v.a,{height:"calc(50% - 10px)",minHeight:"240px",width:"100%",children:Object(m.jsx)(ft,{sourcePort:t.clickedPort,selectPlant:function(e){return t.setNewPlant(e)},level:t.levelSelected,selectPlantType:function(t){return a(t)}})}),Object(m.jsx)(v.a,{height:"calc(50%)",width:"100%",children:Object(m.jsx)(Pt,{plantInfo:t.clickedPlant})})]}),Object(m.jsx)(ct.a,{label:"Coal plants burn thermal coal to produce heat or electricity. Steel plants use metallurgical coal. You can switch between steel and coal plants using the arrows.",placement:"left",bgColor:"#212b57",children:Object(m.jsx)(rt.a,{position:"absolute",top:"10px",right:"10px"})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(m.jsx)(v.a,{height:"calc(50% - 10px)",width:"100%",children:Object(m.jsx)(gt,{sourcePort:t.clickedPort,selectPlant:function(e){return t.setNewPlant(e)},level:t.levelSelected,selectPlantType:function(t){return a(t)}})}),Object(m.jsx)(v.a,{height:"calc(50%)",width:"100%",children:Object(m.jsx)(St,{plantInfo:t.clickedPlant})})]}),Object(m.jsx)(ct.a,{label:"CO2 emissions are calculated by multiplying the megatonnes of coal exported by a factor of 2.44",placement:"left",bgColor:"#212b57",children:Object(m.jsx)(rt.a,{position:"absolute",top:"10px",right:"10px"})})]})},At=n(271),Lt=[{selector:".css-h0g1du",content:"This panel shows the coal imported or exported into or out of a chosen port.",style:{backgroundColor:"#212b57",color:"white"}},{selector:".css-kaif03",content:"Use these controls to select year, commodity and level (country or port). The map shows coal trade flows based on your selection.",style:{backgroundColor:"#212b57",color:"white"}},{selector:".css-1eyjmbc",content:"When a port or country is selected, this panel shows the closest mines for export installations and closest coal power plants for import installations.",style:{backgroundColor:"#212b57",color:"white"}}];var Mt=function(){var t=Object(c.useState)(!0),e=Object(i.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)({Commodity:"Thermal",Port:"Newcastle",Country:"Australia",Year:"2020",flow:"130.296205",lat:"-32.88979846221539",lon:"151.76871572604225"}),o=Object(i.a)(a,2),l=o[0],s=o[1],j=Object(c.useState)(2020),u=Object(i.a)(j,2),d=u[0],h=u[1],x=Object(c.useState)("Thermal"),f=Object(i.a)(x,2),p=f[0],O=f[1],g=Object(c.useState)("Ports"),y=Object(i.a)(g,2),C=y[0],A=y[1],L=Object(c.useState)(null),M=Object(i.a)(L,2),k=M[0],z=M[1],T=Object(c.useState)(null),F=Object(i.a)(T,2),N=F[0],D=F[1],E=Object(c.useState)("FALSE"),B=Object(i.a)(E,2),I=B[0],W=B[1],Y=Object(c.useState)(null),H=Object(i.a)(Y,2),R=H[0],X=H[1],K=Object(c.useState)(null),U=Object(i.a)(K,2),Z=U[0],G=U[1];console.log(R,Z);var V=function(){if(!k&&"FALSE"===I)return null;var t=k.filter((function(t){return t.Port===l.Port&&+t.Year===d&&t.Commodity===p}));try{return t[0].flow}catch(e){return null}};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"outerContainer",children:[Object(m.jsxs)(v.a,{height:"100%",width:"100%",maxHeight:"900px",maxWidth:"1600px",backgroundColor:"transparent",display:"flex",flexDirection:"column",flexWrap:"nowrap",gridRowGap:"15px",justifyContent:"space-between",children:[Object(m.jsxs)(v.a,{flex:"0 0 105px",order:"1",width:"100%",maxWidth:"2000px",backgroundColor:"transparent",display:"flex",flexFlow:"row wrap",justifyContent:"space-between",alignItems:"stretch",alignContent:"space-between",gridColumnGap:"15px",gridRowGap:"15px",children:[Object(m.jsx)(v.a,{height:"105px",flex:"1 1 210px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",borderWidth:"5pt",borderColor:l.flow>0?"tomato":"#38B2AC",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",padding:"2",children:Object(m.jsx)(jt,{clickedPort:l,level:C})})}),Object(m.jsx)(v.a,{height:"105px",flex:"1 1 190px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",position:"relative",padding:"2",children:Object(m.jsx)(at,{mtAmount:V()})})}),Object(m.jsx)(v.a,{height:"105px",flex:"1 1 190px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",position:"relative",padding:"2",children:Object(m.jsx)(ot,{mtAmount:V()})})}),Object(m.jsx)(v.a,{className:"selectorItem",height:"105px",flex:"1 1 475px",children:Object(m.jsxs)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",overflow:"hidden",display:"flex",padding:"2",children:[Object(m.jsx)(v.a,{width:"40%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex",children:Object(m.jsx)(_,{onSelectYear:function(t){return h(t)}})}),Object(m.jsx)(P.a,{height:"50px",children:Object(m.jsx)(S.a,{orientation:"vertical"})}),Object(m.jsx)(v.a,{width:"60%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex",children:Object(m.jsxs)(b.c,{spacing:2,children:[Object(m.jsx)(et,{onSelectCommodity:function(t){return O(t)}}),Object(m.jsx)(S.a,{orientation:"horizontal"}),Object(m.jsx)(it,{onSelectLevel:function(t){return A(t)},isPortClicked:function(t){return W(t)}})]})})]})})]}),Object(m.jsxs)(v.a,{height:"calc(100% - 120px)",order:"2",width:"100%",maxHeight:"1010px",maxWidth:"2000px",backgroundColor:"transparent",display:"flex",flexFlow:"row wrap",justifyContent:"space-between",alignItems:"stretch",alignContent:"space-between",gridColumnGap:"15px",gridRowGap:"15px",children:[Object(m.jsx)(v.a,{order:"1",height:"100%",flex:"0 0 290px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",padding:"5",display:"flex",position:"relative",overflowY:"scroll",children:Object(m.jsx)(Q,{clickedPort:l,portData:k,flowData:N,yearSelected:d,commoditySelected:p,levelSelected:C,setNewPort:function(t){return s(t)}})})}),Object(m.jsx)(v.a,{order:"2",height:"100%",flex:"5 1 400px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"2xl",color:"black",shadow:"2xl",alignItems:"center",overflow:"hidden",position:"relative",children:Object(m.jsx)(w,{onSelectPort:function(t){return s(t)},yearSelected:d,commoditySelected:p,levelSelected:C,setPortData:function(t){return z(t)},setFlowData:function(t){return D(t)},isPortClicked:function(t){return W(t)},setNewMine:function(t){return X(t)},setNewPlant:function(t){return G(t)}})})}),Object(m.jsx)(v.a,{order:"3",height:"100%",flex:"0 0 290px",children:Object(m.jsx)(v.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",padding:"5",display:"flex",position:"relative",overflowY:"scroll",children:Object(m.jsx)(Ct,{clickedPort:l,portData:k,flowData:N,yearSelected:d,commoditySelected:p,levelSelected:C,clickedMine:R,clickedPlant:Z,setNewMine:function(t){return X(t)},setNewPlant:function(t){return G(t)}})})})]})]}),Object(m.jsx)(At.a,{steps:Lt,isOpen:n,onRequestClose:function(){return r(!1)}})]})})},kt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))},zt=n(503);o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(zt.a,{children:Object(m.jsx)(Mt,{})})}),document.getElementById("root")),kt()}},[[460,1,2]]]);
//# sourceMappingURL=main.c25259af.chunk.js.map