(this["webpackJsonpmap-scratch"]=this["webpackJsonpmap-scratch"]||[]).push([[0],{313:function(t,e,c){},314:function(t,e,c){},320:function(t,e,c){},321:function(t,e,c){},322:function(t,e,c){},455:function(t,e,c){},461:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c.n(n),o=c(38),a=c.n(o),i=(c(313),c(5)),l=(c(314),c(473)),s=c(474),j=c(499),u=c(86),d=c.n(u),h=c(14),b=(c(316),c(505)),f=c(472),x=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/3d9519a9c80c0149c2accf244a88c4d8/raw/mines.csv").then(r)}),[]),c},O=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/e3d8ba2ec55191b1049d457711a3162f/raw/coalPlants.csv").then(r)}),[]),c},p=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/8c89b0942f1abe15e13953b86077e229/raw/steelPlants.csv").then(r)}),[]),c},m=c(274),g=c(1),y=function(t){var e=Object(n.useState)(!1),c=Object(i.a)(e,2),r=c[0],o=c[1],a=function(){o(!r),t.onClick()};return!0===r?Object(g.jsx)(m.a,{height:"6",fontSize:"sm",bg:"black",color:"white",_hover:{bg:"gray"},onClick:a,children:t.children}):Object(g.jsx)(m.a,{height:"6",fontSize:"sm",onClick:a,children:t.children})},w=(c(320),function(t){var e=Object(n.useState)([0,0]),c=Object(i.a)(e,2),r=c[0],o=c[1],a=Object(n.useState)(!1),u=Object(i.a)(a,2),m=u[0],w=u[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),P=S[0],A=S[1],C=Object(n.useState)(!1),L=Object(i.a)(C,2),M=L[0],z=L[1],k=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/bd1bf080322618e46ad6a5552d646105/raw/ports.csv").then(r)}),[]),c}(),T=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/43b07a35f49cb3b74c1a93ed2c809961/raw/flows.csv").then(r)}),[]),c}(),F=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/56d12817f6462bf7cd782d423b86ac11/raw/country_nodes.csv").then(r)}),[]),c}(),D=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/4e4596e8863543d99182de35c7855660/raw/country_flows.csv").then(r)}),[]),c}(),N=x(),E=O(),B=p();if(!k||!T||!F||!D||!N||!E)return Object(g.jsx)("pre",{children:Object(g.jsx)(f.a,{color:"#38B2AC"})});var Y=k,I=T,W=F,X=D;"Ports"!==t.levelSelected&&(Y=W,I=X);var K=function(){var e=Object(l.a)();return h.c(e.getPanes().overlayPane).selectAll("*").remove(),d.a.svg({clickable:!0}).addTo(e),Object(n.useEffect)((function(){var c=I.filter((function(e){return+e.Year===t.yearSelected&&e.Commodity===t.commoditySelected})),n=Y.filter((function(e){return+e.Year===t.yearSelected&&e.Commodity===t.commoditySelected}));t.setPortData(Y),t.setFlowData(I);var a=h.c(e.getPanes().overlayPane),i=a.select("svg").attr("pointer-events","auto"),l=i.append("g"),s=i.append("g"),j=a.append("div").attr("id","portTooltip").style("left",r[0]+30+"px").style("top",r[1]+30+"px");var u=s.selectAll("circle").attr("class","Dots").data(n).join("circle").attr("id","Ports").attr("fill",(function(t){return+t.flow<0?"#38B2AC":"tomato"})).attr("stroke","black").attr("fill-opacity",.4).attr("cx",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).y})).attr("r",(function(e){var c=+e.flow>0?e.flow:-e.flow;return"Ports"===t.levelSelected?Math.sqrt(20*+c):Math.sqrt(10*+c)})).on("mouseover",(function(n,r){h.c(this).attr("fill-opacity",1).style("cursor","pointer");var o=+r.flow,a=o>0?o.toFixed(2):-o.toFixed(2),i=+r.flow>0?"Export":"Import";j.html('<p style="font-size: 1.5em"><b>'.concat(r.Port,"</b></p>\n            <p>").concat(i,": ").concat(a," megatonnes</p>\n            <p><b>Click</b> to see more details.</p>")).style("opacity",1);var s=r.Port;if(r.flow>0)var u=c.filter((function(t){return t.source===s}));else u=c.filter((function(t){return t.target===s}));var d=l.selectAll("path").data(u);d.enter().append("path").attr("class","links").attr("id",(function(t){return t.flow>0?t.target:t.source})).attr("d",(function(t){var c=Y.filter((function(e){return e.Port===t.source})),n=Y.filter((function(e){return e.Port===t.target}));return function(t,c){var n=e.latLngToLayerPoint(t),r=e.latLngToLayerPoint(c),o=n.x-r.x,a=n.y-r.y,i=.4,l=.1;if(a<0)var s=[i*o,l*a,i*o,l*a];else s=[l*o,i*a,l*o,i*a];return"M"+n.x+","+n.y+"C"+(n.x-s[0])+","+(n.y-s[1])+" "+(r.x+s[2])+","+(r.y+s[3])+" "+r.x+","+r.y}([c[0].lat,c[0].lon],[n[0].lat,n[0].lon])})).style("fill","none").style("stroke",(function(t){return"Export"===i?"tomato":"#38B2AC"})).style("stroke-width",(function(e){var c=+e.flow>0?e.flow:-e.flow;return"Ports"===t.levelSelected?c+"px":c/2+"px"})).style("opacity",.6),d.exit().remove()})).on("mouseleave",(function(t,e){h.c(this).transition().duration("150").attr("fill-opacity",.4).style("cursor","default"),j.style("opacity",0).style("left","0px").style("top","0px"),l.selectAll("path").remove()})).on("click",(function(e,c){o([Object(h.b)(e)[0],Object(h.b)(e)[1]]),t.isPortClicked("TRUE"),t.onSelectPort(c)})).on("mousemove",(function(t,e){j.style("left",Object(h.b)(t)[0]+30+"px").style("top",Object(h.b)(t)[1]+30+"px")}));e.on("zoomend",(function(){return u.attr("cx",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).x})).attr("cy",(function(t){return e.latLngToLayerPoint([t.lat,t.lon]).y}))}))}),[e]),null},R=function(){var t=Object(l.a)(),e=h.c(t.getPanes().overlayPane),c=e.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===m)return null;var n=e.select("svg").attr("pointer-events","auto").append("g"),r=n.selectAll("circle").attr("class","Dots").data(N).join("circle").attr("id","Plants").attr("fill","brown").attr("fill-opacity",1).attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),n.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")}));return t.on("zoomend",(function(){return r.attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y}))})),null},U=function(){var t=Object(l.a)(),e=h.c(t.getPanes().overlayPane),c=e.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===P)return null;var n=e.select("svg").attr("pointer-events","auto").append("g"),r=n.selectAll("circle").attr("class","Dots").data(E).join("circle").attr("id","Plants").attr("fill","#212b57").attr("fill-opacity",1).attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),n.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")}));return t.on("zoomend",(function(){return r.attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y}))})),null},H=function(){var t=Object(l.a)(),e=h.c(t.getPanes().overlayPane),c=e.append("div").attr("id","minePlantTooltip").style("left","0px").style("top","0px");if(!1===M)return null;var n=e.select("svg").attr("pointer-events","auto").append("g"),r=n.selectAll("circle").attr("class","Dots").data(B).join("circle").attr("id","SteelPlants").attr("fill","#009ACD").attr("fill-opacity",1).attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y})).attr("r",3).on("mouseover",(function(t,e){h.c(this).style("cursor","pointer"),c.html('<p style="font-size: 1em"><b>'.concat(e.Name,"</p>")).style("opacity",1)})).on("mouseleave",(function(t,e){h.c(this).style("cursor","default"),c.style("opacity",0).style("left","0px").style("top","0px"),n.selectAll("path").remove()})).on("mousemove",(function(t,e){c.style("left",Object(h.b)(t)[0]+15+"px").style("top",Object(h.b)(t)[1]+15+"px")}));return t.on("zoomend",(function(){return r.attr("cx",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).x})).attr("cy",(function(e){return t.latLngToLayerPoint([e.Latitude,e.Longitude]).y}))})),null};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(s.a,{id:"mainMap",style:{height:"100%"},center:[5,18],zoom:2,scrollWheelZoom:!0,zIndex:"100",children:[Object(g.jsx)(j.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),Object(g.jsx)(K,{}),Object(g.jsx)(R,{}),Object(g.jsx)(U,{}),Object(g.jsx)(H,{})]}),Object(g.jsxs)(b.b,{direction:"row",position:"absolute",top:"10px",right:"20px",zIndex:"500",children:[Object(g.jsx)(y,{onClick:function(){w(!m)},children:"show mines"}),Object(g.jsx)(y,{onClick:function(){A(!P)},children:"show power plants"}),Object(g.jsx)(y,{onClick:function(){z(!M)},children:"show steel plants"})]})]})}),v=(c(321),c(322),c(496)),S=c(475),P=c(482),A=c(497),C=c(484),L=c(506),M=c(477),z=c(478),k=c(255),T=c(256),F=c(278),D=c(145),N=c(144),E=c(476),B=c(43),Y=function(t){return Object(g.jsx)(B.a,{fontSize:"0.6em",x:t.x-5,y:t.y+t.height/2,width:95,textAnchor:"end",verticalAnchor:"middle",dominantBaseline:"middle",children:t.value})},I=function(t){var e=function(){var t=Object(n.useState)(null),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){Object(h.a)("https://gist.githubusercontent.com/Nfuu/c4c4fa01b7a10184d22a15eeeba4920b/raw/port_country_mapping.csv").then(r)}),[]),c}();if(!e)return null;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(B.a,{fontSize:"0.6em",x:t.x-5,y:t.y+t.height/2,width:95,textAnchor:"end",verticalAnchor:"middle",dominantBaseline:"middle",children:[t.value," ".concat(e.filter((function(e){return e.Port===t.value}))[0].Country)]})})},W=function(t){var e=t.flowData,c=t.portData,r=Object(n.useState)(null),o=Object(i.a)(r,2),a=o[0],l=o[1];if(!e||!c)return null;var s=e.filter((function(e){return+e.Year===t.year&&e.Commodity===t.commodity&&e.source===t.sourcePort}));s.sort((function(t,e){return parseFloat(e.flow)-parseFloat(t.flow)})),s.forEach((function(t){t.flow=function(t){var e=parseFloat(t.flow).toFixed(2);return parseFloat(e)}(t)}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",children:[Object(g.jsx)(E.a,{size:"sm",children:"".concat(t.commodity," coal exports (in Mts)")}),Object(g.jsx)(M.a,{width:"100%",height:"90%",children:Object(g.jsxs)(z.a,{data:s.slice(0,10),layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(g.jsx)(k.a,{type:"number",hide:!0}),Object(g.jsx)(T.a,{type:"category",hide:!0}),Object(g.jsxs)(F.a,{dataKey:"flow",onClick:function(e,n){var r=c.filter((function(c){return+c.Year===t.year&&c.Commodity===t.commodity&&c.Port===e.target}));t.setNewPort(r[0]),l(n)},children:[s.slice(0,10).map((function(t,e){return Object(g.jsx)(D.a,{cursor:"pointer",fill:e===a?"gray":"#38B2AC"},"cell-".concat(e))})),Object(g.jsx)(N.a,{dataKey:"flow",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(g.jsx)(N.a,{dataKey:"target",position:"left",content:"Ports"===t.level?Object(g.jsx)(I,{}):Object(g.jsx)(Y,{}),style:{fontSize:"0.6em"}})]})]})})]})})},X=function(t){var e=t.flowData,c=t.portData,r=Object(n.useState)(null),o=Object(i.a)(r,2),a=o[0],l=o[1];if(!e||!c)return null;var s=e.filter((function(e){return+e.Year===t.year&&e.Commodity===t.commodity&&e.target===t.targetPort}));s.sort((function(t,e){return parseFloat(e.flow)-parseFloat(t.flow)})),s.forEach((function(t){t.flow=function(t){var e=parseFloat(t.flow).toFixed(2);return parseFloat(e)}(t)}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",children:[Object(g.jsx)(E.a,{size:"sm",children:"".concat(t.commodity," coal imports (in Mts)")}),Object(g.jsx)(M.a,{width:"100%",height:"90%",children:Object(g.jsxs)(z.a,{data:s.slice(0,10),layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(g.jsx)(k.a,{type:"number",hide:!0}),Object(g.jsx)(T.a,{type:"category",hide:!0}),Object(g.jsxs)(F.a,{dataKey:"flow",onClick:function(e,n){var r=c.filter((function(c){return+c.Year===t.year&&c.Commodity===t.commodity&&c.Port===e.source}));t.setNewPort(r[0]),l(n)},children:[s.slice(0,10).map((function(t,e){return Object(g.jsx)(D.a,{cursor:"pointer",fill:e===a?"gray":"tomato"},"cell-".concat(e))})),Object(g.jsx)(N.a,{dataKey:"flow",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(g.jsx)(N.a,{dataKey:"source",position:"left",content:"Ports"===t.level?Object(g.jsx)(I,{}):Object(g.jsx)(Y,{}),style:{fontSize:"0.6em"}})]})]})})]})})},K=c(106),R=c(503),U=c(257),H=c(483),Z=c(193),V=(c(455),["gray","brown","black"]),Q=function(t){var e=t.portData;if(!e||!t.selectedPort||!t.year)return null;var c=e.filter((function(e){return+e.Year===t.year&&e.Port===t.selectedPort})).map((function(t){return Object(K.a)({},t)}));c.forEach((function(t){t.flow=Math.abs(+t.flow)}));var n=function(t){var e=c.filter((function(e){return e.Commodity===t}));try{return e[0].flow}catch(n){return null}},r=[{Commodity:"Metallurgical",flow:n("Metallurgical")},{Commodity:"Thermal",flow:n("Thermal")},{Commodity:"Unspecified",flow:n("Total")-(n("Metallurgical")+n("Thermal"))}];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",children:[Object(g.jsx)(E.a,{size:"sm",children:"".concat(t.selectedPort," commodity breakdown")}),Object(g.jsx)(M.a,{height:130,width:"100%",children:Object(g.jsx)(R.a,{height:130,children:Object(g.jsx)(U.a,{data:r,innerRadius:20,outerRadius:50,dataKey:"flow",nameKey:"Commodity",children:r.map((function(t,e){return Object(g.jsx)(D.a,{fill:V[e%V.length]},"cell-".concat(e))}))})})}),Object(g.jsx)(P.a,{children:Object(g.jsxs)(H.a,{children:[Object(g.jsxs)(H.b,{fontSize:"sm",children:[Object(g.jsx)(Z.a,{viewBox:"0 0 200 200",color:"gray",children:Object(g.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Metallurgical coal"]}),Object(g.jsxs)(H.b,{fontSize:"sm",children:[Object(g.jsx)(Z.a,{viewBox:"0 0 200 200",color:"brown",children:Object(g.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Thermal coal"]}),Object(g.jsxs)(H.b,{fontSize:"sm",children:[Object(g.jsx)(Z.a,{viewBox:"0 0 200 200",color:"black",children:Object(g.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}),"Unspecified coal"]})]})})]})})},q="data:image/png;base64,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",G=function(t){var e=t.clickedPort,c=e.Port;if(+e.flow>0)var n="Export";else n="Import";return"Export"===n?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{height:"100%",width:"100%",spacing:"20px",children:[Object(g.jsx)(S.a,{height:"60%",width:"100%",children:Object(g.jsx)(W,{sourcePort:c,flowData:t.flowData,portData:t.portData,year:t.yearSelected,level:t.levelSelected,commodity:t.commoditySelected,setNewPort:t.setNewPort})}),Object(g.jsx)(C.a,{}),Object(g.jsx)(S.a,{className:"commodity-breakdown",height:"250px",width:"100%",children:Object(g.jsx)(Q,{selectedPort:c,portData:t.portData,year:t.yearSelected})}),Object(g.jsx)(C.a,{}),Object(g.jsx)(L.a,{src:q,width:"80%",height:"auto"})]})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(g.jsx)(S.a,{height:"60%",width:"100%",children:Object(g.jsx)(X,{targetPort:c,flowData:t.flowData,portData:t.portData,year:t.yearSelected,level:t.levelSelected,commodity:t.commoditySelected,setNewPort:t.setNewPort})}),Object(g.jsx)(C.a,{}),Object(g.jsx)(S.a,{className:"commodity-breakdown",height:"250px",width:"100%",children:Object(g.jsx)(Q,{selectedPort:c,portData:t.portData,year:t.yearSelected})}),Object(g.jsx)(C.a,{}),Object(g.jsx)(L.a,{src:q,width:"80%",height:"auto"})]})})},J=c(485),_=c(500),$=function(t){var e=Object(n.useState)(2020),c=Object(i.a)(e,2),r=c[0],o=c[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{width:"100%",spacing:2,children:[Object(g.jsx)(J.a,{fontSize:"2xl",fontWeight:"semibold",color:"#000",children:r}),Object(g.jsxs)(_.a,{width:"80%","aria-label":"yearSlider",defaultValue:2020,min:2017,max:2020,step:1,onChangeEnd:function(e){return function(e){o(e),t.onSelectYear(r)}(e)},children:[Object(g.jsx)(_.d,{bg:"#1D77b7",children:Object(g.jsx)(_.b,{bg:"#212b57"})}),Object(g.jsx)(_.c,{boxSize:4,bgColor:"gray.200"})]})]})})},tt=c(275),et=c(502),ct=function(t){var e=Object(n.useState)("Thermal"),c=Object(i.a)(e,2),r=c[0],o=c[1];return Object(g.jsx)(tt.a,{onChange:function(e){o(e),t.onSelectCommodity(e)},value:r,children:Object(g.jsxs)(b.b,{direction:"row",color:"gray.600",children:[Object(g.jsx)(et.a,{value:"Total",children:"Total"}),Object(g.jsx)(et.a,{value:"Thermal",children:"Thermal"}),Object(g.jsx)(et.a,{value:"Metallurgical",children:"Metallurgical"})]})})},nt=c(488),rt=c(498),ot=c(489),at=function(t){var e=+t.mtAmount,c=Math.abs(e.toFixed(2));if(e>0)var n="Exports in megatonnes:";else n="Imports in megatonnes:";return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{children:Object(g.jsxs)(nt.a,{children:[Object(g.jsx)(nt.c,{color:"gray.600",children:n}),Object(g.jsx)(nt.d,{children:"".concat(c," Mt")})]})}),Object(g.jsx)(rt.a,{label:"True exports for any given port are likely to be higher. These exports only represent exports from installations that are included in the dataset. We are continuously adding more ports to reduce the amount of exports to unknown ports and provide a more accurate picture.",placement:"right",bgColor:"#212b57",children:Object(g.jsx)(ot.a,{position:"absolute",top:"10px",right:"10px"})})]})},it=function(t){var e=Math.abs((2.44*+t.mtAmount).toFixed(2));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{children:Object(g.jsxs)(nt.a,{children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"CO2 emissions from use:"}),Object(g.jsx)(nt.d,{children:"".concat(e," Mt CO2")})]})}),Object(g.jsx)(rt.a,{label:"CO2 emissions are calculated by multiplying the megatonnes of coal exported by a factor of 2.44",placement:"right",bgColor:"#212b57",children:Object(g.jsx)(ot.a,{position:"absolute",top:"10px",right:"10px"})})]})},lt=function(t){var e=Object(n.useState)("Ports"),c=Object(i.a)(e,2),r=c[0],o=c[1];return Object(g.jsx)(tt.a,{onChange:function(e){o(e),t.onSelectLevel(e),t.isPortClicked("FALSE")},value:r,children:Object(g.jsxs)(b.b,{direction:"row",color:"gray.600",children:[Object(g.jsx)(et.a,{value:"Countries",children:"Country"}),Object(g.jsx)(et.a,{value:"Ports",children:"Ports"})]})})},st=c(490),jt=c(491),ut=function(t){var e=t.clickedPort,c=e.Port;if(+e.flow>0)var n="Export",r="tomato";else n="Import",r="#38B2AC";return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(st.a,{display:"flex",alignItems:"center",children:Object(g.jsxs)(b.c,{children:[Object(g.jsx)(J.a,{fontSize:"xl",fontWeight:"semibold",color:"gray.600",textAlign:"center",children:"Ports"===t.level?"".concat(c,", ").concat(e.Country):"".concat(c)}),Object(g.jsx)(jt.a,{borderRadius:"full",px:"2",bgColor:r,color:"white",children:n})]})})})},dt=function(t){return t*(Math.PI/180)},ht=function(t){var e=x();if(!e)return Object(g.jsx)("pre",{children:"Loading..."});var c=t.sourcePort;if(e.forEach((function(t){t.Distance=function(t,e,c,n){var r=dt(c-t),o=dt(n-e),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(dt(t))*Math.cos(dt(c))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371}(c.lat,c.lon,t.Latitude,t.Longitude),t.Output=parseFloat(t.Output)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)})),"Thermal"===t.commodity)var n=e.filter((function(t){return"TRUE"===t.Thermal}));else n="Metallurgical"===t.commodity?e.filter((function(t){return"TRUE"===t.Metallurgical})):e;var r=n.slice(0,10);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",children:[Object(g.jsx)(E.a,{size:"sm",children:"Closest ".concat(("Total"===t.commodity?"":t.commodity).toLowerCase()," coal mines")}),Object(g.jsx)(M.a,{width:"100%",height:"90%",children:Object(g.jsxs)(z.a,{data:r,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(g.jsx)(k.a,{type:"number",hide:!0}),Object(g.jsx)(T.a,{type:"category",hide:!0}),Object(g.jsxs)(F.a,{dataKey:"Output",onClick:function(e,c){t.selectMine(e)},isAnimationActive:!1,children:[r.map((function(t,e){return Object(g.jsx)(D.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(g.jsx)(N.a,{dataKey:"Output",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(g.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(g.jsx)(Y,{}),style:{fontSize:"0.6em"}})]})]})})]})})},bt=c(492),ft=c(493),xt=function(t){return t*(Math.PI/180)},Ot=function(t){var e=O();if(!e)return Object(g.jsx)("pre",{children:Object(g.jsx)(f.a,{color:"#38B2AC"})});var c=t.sourcePort;e.forEach((function(t){t.Distance=function(t,e,c,n){var r=xt(c-t),o=xt(n-e),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(xt(t))*Math.cos(xt(c))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371}(c.lat,c.lon,t.Latitude,t.Longitude),t.Capacity=parseFloat(t.Capacity)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)}));var n=e.slice(0,10);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(E.a,{size:"sm",children:" Closest coal power plants "}),Object(g.jsx)(bt.a,{size:"xs","aria-label":"PlantRightButton",icon:Object(g.jsx)(ft.a,{}),onClick:function(){return t.selectPlantType("steel")}})]}),Object(g.jsx)(M.a,{width:"100%",height:"90%",children:Object(g.jsxs)(z.a,{data:n,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(g.jsx)(k.a,{type:"number",hide:!0}),Object(g.jsx)(T.a,{type:"category",hide:!0}),Object(g.jsxs)(F.a,{dataKey:"Capacity",onClick:function(e,c){t.selectPlant(e)},children:[n.map((function(t,e){return Object(g.jsx)(D.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(g.jsx)(N.a,{dataKey:"Capacity",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(g.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(g.jsx)(Y,{}),style:{fontSize:"0.6em"}})]})]})})]})})},pt=c(494),mt=function(t){return t*(Math.PI/180)},gt=function(t){var e=p();if(!e)return Object(g.jsx)("pre",{children:Object(g.jsx)(f.a,{color:"#38B2AC"})});var c=t.sourcePort;e.forEach((function(t){t.Distance=function(t,e,c,n){var r=mt(c-t),o=mt(n-e),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(mt(t))*Math.cos(mt(c))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371}(c.lat,c.lon,t.Latitude,t.Longitude),t.Capacity=parseFloat(t.Capacity)})),e.sort((function(t,e){return parseFloat(t.Distance)-parseFloat(e.Distance)}));var n=e.slice(0,10);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(S.a,{height:"100%",width:"100%",children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(bt.a,{size:"xs","aria-label":"PlantLeftButton",icon:Object(g.jsx)(pt.a,{}),onClick:function(){return t.selectPlantType("coal")}}),Object(g.jsx)(E.a,{size:"sm",children:" Closest steel plants "})]}),Object(g.jsx)(M.a,{width:"100%",height:"90%",children:Object(g.jsxs)(z.a,{data:n,layout:"vertical",margin:{top:10,right:30,left:120,bottom:5},children:[Object(g.jsx)(k.a,{type:"number",hide:!0}),Object(g.jsx)(T.a,{type:"category",hide:!0}),Object(g.jsxs)(F.a,{dataKey:"Capacity",onClick:function(e,c){t.selectPlant(e)},children:[n.map((function(t,e){return Object(g.jsx)(D.a,{cursor:"pointer",fill:"#212b57"},"cell-".concat(e))})),Object(g.jsx)(N.a,{dataKey:"Capacity",position:"right",style:{fontSize:"0.6em",fill:"#000"}}),Object(g.jsx)(N.a,{dataKey:"Name",position:"left",content:Object(g.jsx)(Y,{}),style:{fontSize:"0.6em"}})]})]})})]})})},yt=c(495),wt=c.p+"static/media/Coal_mine.f8b35831.png",vt=function(t){var e=t.mineInfo;return e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{children:Object(g.jsx)(L.a,{src:wt,width:"80%"})}),Object(g.jsxs)(S.a,{children:[Object(g.jsx)(jt.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(g.jsx)(S.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(g.jsxs)(nt.b,{children:[Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]}),Object(g.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Grade"}),Object(g.jsx)(nt.d,{fontSize:"14",children:e.Grade})]})]}),Object(g.jsxs)(nt.b,{children:[Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Annual Capacity"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[e.Output," Mt"]})]}),Object(g.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(g.jsx)(nt.d,{fontSize:"14",children:Object(g.jsx)(yt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(g.jsx)(P.a,{height:"100%",children:Object(g.jsx)(J.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a mine above to show more information"})})},St=c.p+"static/media/power_plant.0ce6d6e9.png",Pt=function(t){var e=t.plantInfo;return e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{children:Object(g.jsx)(L.a,{src:St,width:"80%"})}),Object(g.jsxs)(S.a,{children:[Object(g.jsx)(jt.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(g.jsx)(S.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(g.jsx)(nt.b,{children:Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]})}),Object(g.jsxs)(nt.b,{children:[Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Capacity"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[e.Capacity," MW"]})]}),Object(g.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(g.jsx)(nt.d,{fontSize:"14",children:Object(g.jsx)(yt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(g.jsx)(P.a,{height:"100%",children:Object(g.jsx)(J.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a coal plant above to show more information"})})},At=function(t){var e=t.plantInfo;return e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{children:Object(g.jsx)(L.a,{src:St,width:"80%"})}),Object(g.jsxs)(S.a,{children:[Object(g.jsx)(jt.a,{borderRadius:"full",px:"2",colorScheme:"Operating"===e.Status?"green":"gray",children:e.Status}),Object(g.jsx)(S.a,{mt:"1",fontWeight:"semibold",as:"h4",fontSize:"14",lineHeight:"tight",isTruncated:!0,children:e.Name})]}),Object(g.jsx)(nt.b,{children:Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Distance from port"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[parseFloat(e.Distance).toFixed(2)," km"]})]})}),Object(g.jsxs)(nt.b,{children:[Object(g.jsxs)(nt.a,{marginTop:"5px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Capacity"}),Object(g.jsxs)(nt.d,{fontSize:"14",children:[e.Capacity," kt"]})]}),Object(g.jsxs)(nt.a,{marginTop:"5px",marginLeft:"10px",children:[Object(g.jsx)(nt.c,{color:"gray.600",children:"Find out more"}),Object(g.jsx)(nt.d,{fontSize:"14",children:Object(g.jsx)(yt.a,{color:"teal.500",href:e.Wiki,isExternal:!0,children:"Global Energy Monitor"})})]})]})]}):Object(g.jsx)(P.a,{height:"100%",children:Object(g.jsx)(J.a,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Click on a coal plant above to show more information"})})},Ct=function(t){var e=Object(n.useState)(null),c=Object(i.a)(e,2),r=c[0],o=c[1],a=Object(n.useState)(null),l=Object(i.a)(a,2),s=l[0],j=l[1],u=Object(n.useState)("coal"),d=Object(i.a)(u,2),h=d[0],f=d[1];if(console.log(h),+t.clickedPort.flow>0)var x="Export";else x="Import";return"Export"===x?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{height:"100%",width:"100%",spacing:"20px",children:[Object(g.jsx)(S.a,{height:"calc(50% - 10px)",width:"100%",children:Object(g.jsx)(ht,{sourcePort:t.clickedPort,commodity:t.commoditySelected,selectMine:function(t){return o(t)},level:t.levelSelected})}),Object(g.jsx)(S.a,{height:"calc(50%)",width:"100%",children:Object(g.jsx)(vt,{mineInfo:r})})]})}):"coal"===h?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(g.jsx)(S.a,{height:"calc(50% - 10px)",width:"100%",children:Object(g.jsx)(Ot,{sourcePort:t.clickedPort,selectPlant:function(t){return j(t)},level:t.levelSelected,selectPlantType:function(t){return f(t)}})}),Object(g.jsx)(S.a,{height:"calc(50%)",width:"100%",children:Object(g.jsx)(Pt,{plantInfo:s})})]})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.c,{height:"100%",width:"100%",children:[Object(g.jsx)(S.a,{height:"calc(50% - 10px)",width:"100%",children:Object(g.jsx)(gt,{sourcePort:t.clickedPort,selectPlant:function(t){return j(t)},level:t.levelSelected,selectPlantType:function(t){return f(t)}})}),Object(g.jsx)(S.a,{height:"calc(50%)",width:"100%",children:Object(g.jsx)(At,{plantInfo:s})})]})})},Lt=c(271),Mt=[{selector:".css-1gt0haz",content:"This panel shows the coal imported or exported into or out of a chosen port.",style:{backgroundColor:"#212b57",color:"white"}},{selector:".css-1w8f165",content:"Use these controls to select year, commodity and level (country or port). The map shows coal trade flows based on your selection.",style:{backgroundColor:"#212b57",color:"white"}},{selector:".css-bxsqib",content:"When a port or country is selected, this panel shows the closest mines for export installations and closest coal power plants for import installations.",style:{backgroundColor:"#212b57",color:"white"}}];var zt=function(){var t=Object(n.useState)(!0),e=Object(i.a)(t,2),c=e[0],r=e[1],o=Object(n.useState)({Commodity:"Thermal",Port:"Newcastle",Country:"Australia",Year:"2020",flow:"130.296205",lat:"-32.88979846221539",lon:"151.76871572604225"}),a=Object(i.a)(o,2),l=a[0],s=a[1],j=Object(n.useState)(2020),u=Object(i.a)(j,2),d=u[0],h=u[1],f=Object(n.useState)("Thermal"),x=Object(i.a)(f,2),O=x[0],p=x[1],m=Object(n.useState)("Ports"),y=Object(i.a)(m,2),C=y[0],L=y[1],M=Object(n.useState)(null),z=Object(i.a)(M,2),k=z[0],T=z[1],F=Object(n.useState)(null),D=Object(i.a)(F,2),N=D[0],E=D[1],B=Object(n.useState)("FALSE"),Y=Object(i.a)(B,2),I=Y[0],W=Y[1],X=function(){if(!k&&"FALSE"===I)return null;var t=k.filter((function(t){return t.Port===l.Port&&+t.Year===d&&t.Commodity===O}));try{return t[0].flow}catch(e){return null}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"outerContainer",children:[Object(g.jsxs)(v.a,{maxHeight:"900px",maxWidth:"1600px",w:"100vw",h:"100vh",templateRows:"repeat(20, 1fr)",templateColumns:"repeat(5, 1fr)",gap:"4",children:[Object(g.jsx)(v.b,{colStart:1,colEnd:1,rowStart:1,rowEnd:4,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",borderWidth:"5pt",borderColor:l.flow>0?"tomato":"#38B2AC",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",children:Object(g.jsx)(ut,{clickedPort:l,level:C})})}),Object(g.jsx)(v.b,{colStart:1,colEnd:1,rowStart:4,rowEnd:21,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",padding:"5",display:"flex",position:"relative",overflowY:"scroll",children:Object(g.jsx)(G,{clickedPort:l,portData:k,flowData:N,yearSelected:d,commoditySelected:O,levelSelected:C,setNewPort:function(t){return s(t)}})})}),Object(g.jsx)(v.b,{rowSpan:3,colSpan:1,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",position:"relative",children:Object(g.jsx)(at,{mtAmount:X()})})}),Object(g.jsx)(v.b,{rowSpan:3,colSpan:1,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",display:"flex",position:"relative",children:Object(g.jsx)(it,{mtAmount:X()})})}),Object(g.jsx)(v.b,{rowSpan:3,colSpan:2,children:Object(g.jsxs)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",overflow:"hidden",display:"flex",children:[Object(g.jsx)(S.a,{width:"40%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex",children:Object(g.jsx)($,{onSelectYear:function(t){return h(t)}})}),Object(g.jsx)(P.a,{height:"50px",children:Object(g.jsx)(A.a,{orientation:"vertical"})}),Object(g.jsx)(S.a,{width:"60%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex",children:Object(g.jsxs)(b.c,{spacing:2,children:[Object(g.jsx)(ct,{onSelectCommodity:function(t){return p(t)}}),Object(g.jsx)(A.a,{orientation:"horizontal"}),Object(g.jsx)(lt,{onSelectLevel:function(t){return L(t)},isPortClicked:function(t){return W(t)}})]})})]})}),Object(g.jsx)(v.b,{rowSpan:17,colSpan:3,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"2xl",color:"black",shadow:"2xl",alignItems:"center",overflow:"hidden",position:"relative",children:Object(g.jsx)(w,{onSelectPort:function(t){return s(t)},yearSelected:d,commoditySelected:O,levelSelected:C,setPortData:function(t){return T(t)},setFlowData:function(t){return E(t)},isPortClicked:function(t){return W(t)}})})}),Object(g.jsx)(v.b,{colStart:5,colEnd:5,rowStart:4,rowEnd:21,children:Object(g.jsx)(S.a,{width:"100%",height:"100%",bg:"white",borderRadius:"lg",color:"black",shadow:"2xl",alignItems:"center",justifyContent:"center",padding:"5",display:"flex",overflowY:"scroll",children:Object(g.jsx)(Ct,{clickedPort:l,portData:k,flowData:N,yearSelected:d,commoditySelected:O,levelSelected:C})})})]}),Object(g.jsx)(Lt.a,{steps:Mt,isOpen:c,onRequestClose:function(){return r(!1)}})]})})},kt=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,508)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;c(t),n(t),r(t),o(t),a(t)}))},Tt=c(504);a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Tt.a,{children:Object(g.jsx)(zt,{})})}),document.getElementById("root")),kt()}},[[461,1,2]]]);
//# sourceMappingURL=main.d7fd21eb.chunk.js.map